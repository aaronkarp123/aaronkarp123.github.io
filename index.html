<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Aaron Karp</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style type="text/css">a {text-decoration: none}</style>
		<style>
			body {
				font-family: Helvetica Neue;
				background-color: #000000;
				margin: 0px;
				overflow: hidden;
				line-height: 1.5;
			}
		</style>
		<style>
			a:hover, a:active {color: #ffffff;}
			a {color: #dfdfdf;}
		</style>
		<link rel="shortcut icon" href="files/Favicon.png" />
	</head>
	<link rel="stylesheet" type="text/css" href="stylesheet.css">
	<body>
		<script>
		window.mobilecheck = function() {
			var check = false;
			if(window.innerWidth<768){
				check=true;
			}
			return check;
		}
		if(window.mobilecheck()){
			window.location.href="index-mobile.html";
		}
	</script>
		<br><br><br><br>
		<div id="BlackBackground"></div>
		<div id="simplified-back-mobile"></div>
		<div id ="loaded_content"></div>
		<script type="text/javascript" src="works.js"></script>
		<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
		<script type="text/javascript">

			init();

			async function fetchHtmlAsText(url) {
			    return await (await fetch(url)).text();
			}

			async function load_home(html_link) {
				var e = document.getElementById('simplified-back-mobile');
				const contentDiv = document.getElementById("loaded_content");
				contentDiv.innerHTML= await fetchHtmlAsText(html_link);  // html_link
				contentDiv.className = "fadeinleft";
				e.className = "fadeoutleft";
				e.style.fontFamily = "Helvetica Neue";
			}

			function unfade(element, rate) {
			    var op = 0.01;  // initial opacity
			    element.style.display = 'block';
			    var timer = setInterval(function () {
			        if (op >= 1.0){
			            clearInterval(timer);
			        }
			        element.style.opacity = op;
			        element.style.filter = 'alpha(opacity=' + op * 100 + ")";
			        op += op * rate;
			    }, 10);
			}

			function fade(element, rate) {
			    var op = 1.0;  // initial opacity
			    element.style.display = 'block';
			    var timer = setInterval(function () {
			        if (op <= 0.001){
			            clearInterval(timer);
			        }
			        element.style.opacity = op;
			        element.style.filter = 'alpha(opacity=' + op * 100 + ")";
			        op -= op * rate;
			    }, 15);
			}
			
			function init() {
				var divs = document.getElementsByTagName("div");
				for(var i = 0; i < divs.length; i++){
				   divs[i].style.display = "block";
				}
				var e = document.getElementById('simplified-back-mobile');
				//populate works
				var works = document.createElement("div")
				works.setAttribute("id", "text");
				var to_create = '<span style="font-weight:bold; color:#eeeeee">Aaron Karp</span></br></br> <span style="font-weight:bold; color:#ff3333">Music<br></span>';
				for (i = 0; i < music_w.length; i++){
					//to_create += '<a href="' + music_wl[i] + '" target="_blank">' + music_w[i] + '</a><br>';
					to_create += '<a href="#" id="' + music_w[i] + '" onclick="load_home(\'' + music_wl[i] + '\' );">' + music_w[i] + '</a><br>';
				}
				to_create += '<br>';
				to_create += '<span style="font-weight:bold; color:#00ff00" >Computer Science<br></span>';
				for (i = 0; i < cs_w.length; i++){
					to_create += '<a href="' + cs_wl[i] + '" target="_blank">' + cs_w[i] + '</a><br>';
				}
				to_create += '<br>';
				to_create += '<span style="font-weight:bold; color:#00aaff" >Other<br></span>';
				for (i = 0; i < other_w.length; i++){
					to_create += '<a href="' + other_wl[i] + '" target="_blank">' + other_w[i] + '</a><br>';
				}

				works.innerHTML = to_create;
				e.appendChild(works);
				e.style.display="none";

				e.style.display = "block";
				unfade(e, 0.2);
				//const contentDiv = document.getElementById("loaded_content");
			}

		</script>
	</body>
	</html>